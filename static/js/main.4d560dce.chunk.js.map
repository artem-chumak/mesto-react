{"version":3,"sources":["utils/variables.js","utils/Api.js","contexts/CurrentUserContext.js","images/logo-header.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["apiInfo","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","all","getCards","getUserInfo","data","method","body","JSON","stringify","name","link","about","isLiked","authorization","CurrentUserContext","React","createContext","Header","className","src","logo","alt","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","likes","some","i","onClick","style","display","type","title","length","Main","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","cards","backgroundImage","avatar","map","Footer","PopupWithForm","buttonText","isOpen","children","onClose","onSubmit","onCloseOverlay","id","action","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","value","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","ImagePopup","App","setCards","id_","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setIsLoading","getAllneededData","userInfo","catch","err","console","log","closeByEscape","evt","key","closeAllPopups","document","addEventListener","removeEventListener","closeByOverlayClick","currentTarget","Provider","changeLikeCardStatus","newCard","c","setDelete","filter","setUserInfo","finally","setCard","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4d560dce.chunk.js","sourcesContent":["// export const userIformation = {\n//   userName: '.profile__name',\n//   userAbout: '.profile__occupation',\n//   userAvatar: '.profile__avatar',\n//   userId: null,\n// };\n\n// export const popups = {\n//   avatar: '#edit-avatar',\n//   profile: '#edit-profile',\n//   addPlace: '#add-place',\n//   image: '#image-popup',\n//   delete: '#delete-conformation'\n// }\n\n// export const forms = {\n//   avatar: '#avatar-edit-form',\n//   plofile: '#plofile-edit-form',\n//   place: '#add-element-form',\n//   delete: '#delete-conformation-form'\n// }\n\n// export const buttons = {\n//   avatar: document.querySelector('.profile__avatar'),\n//   editProfile: document.querySelector('.profile__edit-button'),\n//   addPlace: document.querySelector('.profile__add-button')\n// }\n\n// export const template = {\n//   listElements: '.elements__list',\n//   element: '.element-template'\n// }\n\nexport const apiInfo = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n  token: 'b0e0b94f-d543-4f9f-b125-9b741686cafd'\n}","import { apiInfo } from './variables.js'\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  };\n\n  getCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse);\n  }\n\n  getAllneededData() {\n    return Promise.all([this.getCards(), this.getUserInfo()])\n  }\n\n  setCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      })\n    })\n      .then(this._handleResponse);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    })\n      .then(this._handleResponse);\n  }\n\n  setAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._handleResponse);\n  }\n\n  setLike(data) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  setDislike(data) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  changeLikeCardStatus(data, isLiked) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  setDelete(data) {\n    return fetch(`${this._baseUrl}cards/${data}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n\n  }\n}\n\nexport const api = new Api ({\n  baseUrl: apiInfo.url,\n  headers: {\n    authorization: apiInfo.token,\n    'Content-Type': 'application/json'\n  }\n})","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo-header.5f3664ca.svg\";","import logo from \"../images/logo-header.svg\";\n\nconst Header = () => {\n  return (\n    <header className=\"header section\">\n      <img className=\"logo header__logo\" src={logo} alt=\"Логотип\" />\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Card = ({ card, onCardClick, onCardLike, onCardDelete }) => {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  return (\n    <li className=\"element\">\n      <button\n        onClick={handleDeleteClick}\n        className=\"button element__delete-button\"\n        style={isOwn ? { display: \"block\" } : { display: \"none\" }}\n        aria-label=\"Удалить\"\n        type=\"button\"\n      ></button>\n      <img\n        className=\"element__image\"\n        onClick={handleClick}\n        src={card.link}\n        alt={card.title}\n      />\n      <div className=\"element__info\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__like\">\n          <button\n            onClick={handleLikeClick}\n            className={\n              isLiked\n                ? \"button element__like-button element__like-button_active\"\n                : \"button element__like-button\"\n            }\n            aria-label=\"Понравилось\"\n            type=\"button\"\n          ></button>\n          <span className=\"element__like-counter\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Main = ({\n  handleEditProfileClick,\n  handleAddPlaceClick,\n  handleEditAvatarClick,\n  handleCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) => {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile section\">\n        <div\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={handleEditAvatarClick}\n        ></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            className=\"button profile__edit-button\"\n            aria-label=\"Изменить профиль\"\n            type=\"button\"\n            onClick={handleEditProfileClick}\n          ></button>\n          <p className=\"profile__occupation\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"button profile__add-button\"\n          aria-label=\"Добавить\"\n          type=\"button\"\n          onClick={handleAddPlaceClick}\n        ></button>\n      </section>\n      <section className=\"section elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={handleCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n};\n\nexport default Main;\n","const Footer = () => {\n  return (\n    <footer className=\"footer section\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","const PopupWithForm = ({\n  title,\n  name,\n  buttonText,\n  isOpen,\n  children,\n  onClose,\n  onSubmit,\n  onCloseOverlay,\n}) => {\n\n  return (\n    <section onClick={onCloseOverlay}\n      className={\n        isOpen\n          ? \"popup popup_type_input popup_opened\"\n          : \"popup popup_type_input\"\n      }\n      id={name}\n    >\n      <div className=\"popup__container popup__container_type_input\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <button\n          onClick={onClose}\n          className=\"button popup__exit-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <form\n          onSubmit={onSubmit}\n          className=\"popup__form\"\n          action=\"#\"\n          name={name}\n        >\n          {children}\n          <button\n            className=\"button popup__save-button\"\n            type=\"submit\"\n            aria-label={buttonText}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n};\n\nexport default PopupWithForm;","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser, onCloseOverlay, isLoading }) => {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  };\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name={\"edit-profile\"}\n      title={\"Редактировать профиль\"}\n      buttonText={ isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        onChange={handleChangeName}\n        value={name}\n        className=\"popup__input\"\n        id=\"name\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span className=\"popup__input-error\" id=\"name-error\">\n        Mistake\n      </span>\n      <input\n        onChange={handleChangeDescription}\n        value={description}\n        className=\"popup__input\"\n        id=\"occupation\"\n        type=\"text\"\n        placeholder=\"Род занятий\"\n        name=\"about\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span className=\"popup__input-error\" id=\"occupation-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar, onCloseOverlay, isLoading }) => {\n  const avatarRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"edit-avatar\"}\n      title={\"Обновить аватар\"}\n      buttonText={ isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        ref={avatarRef}\n        className=\"popup__input\"\n        id=\"avatar\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"avatar\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"avatar-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace, onCloseOverlay, isLoading }) => {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"add-place\"}\n      title={\"Новое место\"}\n      buttonText={ isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        ref={nameRef}\n        className=\"popup__input\"\n        id=\"title\"\n        type=\"text\"\n        placeholder=\"Название\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n      />\n      <span className=\"popup__input-error\" id=\"title-error\">\n        Mistake\n      </span>\n      <input\n        ref={linkRef}\n        className=\"popup__input\"\n        id=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","const ImagePopup = ({ card, onClose, onCloseOverlay }) => {\n  return (\n    <section\n      onClick={onCloseOverlay}\n      className={\n        card.link\n          ? \"popup popup_type_image popup_opened\"\n          : \"popup popup_type_image\"\n      }\n      id=\"image-popup\"\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <button\n          className=\"button popup__exit-button\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <h2 className=\"popup__caption\">{card.name}</h2>\n      </div>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n","//* Спасибо за классные комментарии! Код стал лучше)\n// todo 1. Можно убрать лишнюю обёртку root и перенести стили в page.css или на root в index.html\n// todo 2. Почистить variables.js\n// todo 3. Добавить спинер\n// todo 4. Поменять фавикон\n//! неудача фавик не поменялся.\n// todo 5. Понять в какой момент вешается обработчик на Escap. Не до конца понимаю пока\n// todo 6. Валидация форм\n///// todo 7. Надпись загрузка на кнопке\n///// todo 8. Закрытие по нажатию на оверлей\n// ? Можно ли поменять клик оверлея из функции на useEffect или как-то еще.\n// ? Можно ли передать функцию напрямую в Попап с формой без вызова в рендере.\n// todo 9. Окно удаления карточки\n// todo 10. Очистка форм после сабмита\n// todo 11. Прописать пути Router для сайта. Страница 404.\n// todo 12. Настроить ключ, чтобы не вводить пороль каждый раз\n\nimport { useState, useEffect } from \"react\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    about: \"\",\n    id_: \"\",\n  });\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    api\n      .getAllneededData()\n      .then((res) => {\n        const [cards, userInfo] = res;\n        setCards(cards);\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    const closeByEscape = (evt) => {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    document.addEventListener(\"keydown\", closeByEscape);\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\n  }, []);\n\n  //!\n  const closeByOverlayClick = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      closeAllPopups();\n    }\n  };\n  //!\n\n  // Card\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardDelete = (card) => {\n    api\n      .setDelete(card._id)\n      .then((res) => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  // Popups\n  const onEditProfile = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const onAddPlace = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const onEditAvatar = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  };\n\n  const handleUpdateUser = (data) => {\n    setIsLoading(true);\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false)\n      })\n  };\n\n  const handleUpdateAvatar = (data) => {\n    setIsLoading(true);\n    api\n      .setAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false)\n      });\n  };\n\n  const handleAddPlaceSubmit = (data) => {\n    setIsLoading(true)\n    api\n      .setCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false)\n      });\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <div className=\"page\">\n          <Header />\n          <Main\n            handleEditProfileClick={onEditProfile}\n            handleAddPlaceClick={onAddPlace}\n            handleEditAvatarClick={onEditAvatar}\n            handleCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            isLoading={isLoading}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            onCloseOverlay={closeByOverlayClick}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            isLoading={isLoading}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            onCloseOverlay={closeByOverlayClick}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            isLoading={isLoading}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            onCloseOverlay={closeByOverlayClick}\n          />\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n            onCloseOverlay={closeByOverlayClick}\n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}