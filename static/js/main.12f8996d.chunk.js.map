{"version":3,"sources":["utils/variables.js","utils/Api.js","contexts/CurrentUserContext.js","images/logo-header.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["apiInfo","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","all","getCards","getUserInfo","data","method","body","JSON","stringify","name","link","about","isLiked","authorization","CurrentUserContext","React","createContext","Header","className","src","logo","alt","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","likes","some","i","onClick","style","display","type","title","length","Main","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","cards","backgroundImage","avatar","map","Footer","PopupWithForm","buttonText","isOpen","children","onClose","onSubmit","id","action","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","value","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","ImagePopup","App","setCards","id_","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","getAllneededData","userInfo","catch","err","console","log","closeByEscape","evt","key","closeAllPopups","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","c","setDelete","filter","setUserInfo","setCard","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.12f8996d.chunk.js","sourcesContent":["// export const userIformation = {\n//   userName: '.profile__name',\n//   userAbout: '.profile__occupation',\n//   userAvatar: '.profile__avatar',\n//   userId: null,\n// };\n\n// export const popups = {\n//   avatar: '#edit-avatar',\n//   profile: '#edit-profile',\n//   addPlace: '#add-place',\n//   image: '#image-popup',\n//   delete: '#delete-conformation'\n// }\n\n// export const forms = {\n//   avatar: '#avatar-edit-form',\n//   plofile: '#plofile-edit-form',\n//   place: '#add-element-form',\n//   delete: '#delete-conformation-form'\n// }\n\n// export const buttons = {\n//   avatar: document.querySelector('.profile__avatar'),\n//   editProfile: document.querySelector('.profile__edit-button'),\n//   addPlace: document.querySelector('.profile__add-button')\n// }\n\n// export const template = {\n//   listElements: '.elements__list',\n//   element: '.element-template'\n// }\n\nexport const apiInfo = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n  token: 'b0e0b94f-d543-4f9f-b125-9b741686cafd'\n}","import { apiInfo } from './variables.js'\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  };\n\n  getCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse);\n  }\n\n  getAllneededData() {\n    return Promise.all([this.getCards(), this.getUserInfo()])\n  }\n\n  setCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      })\n    })\n      .then(this._handleResponse);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    })\n      .then(this._handleResponse);\n  }\n\n  setAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._handleResponse);\n  }\n\n  setLike(data) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  setDislike(data) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  changeLikeCardStatus(data, isLiked) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  setDelete(data) {\n    return fetch(`${this._baseUrl}cards/${data}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n\n  }\n}\n\nexport const api = new Api ({\n  baseUrl: apiInfo.url,\n  headers: {\n    authorization: apiInfo.token,\n    'Content-Type': 'application/json'\n  }\n})","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo-header.5f3664ca.svg\";","import logo from \"../images/logo-header.svg\";\n\nconst Header = () => {\n  return (\n    <header className=\"header section\">\n      <img className=\"logo header__logo\" src={logo} alt=\"Логотип\" />\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Card = ({ card, onCardClick, onCardLike, onCardDelete }) => {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  };\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  return (\n    <li className=\"element\">\n      <button\n        onClick={handleDeleteClick}\n        className=\"button element__delete-button\"\n        style={isOwn ? { display: \"block\" } : { display: \"none\" }}\n        aria-label=\"Удалить\"\n        type=\"button\"\n      ></button>\n      <img\n        className=\"element__image\"\n        onClick={handleClick}\n        src={card.link}\n        alt={card.title}\n      />\n      <div className=\"element__info\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__like\">\n          <button\n            onClick={handleLikeClick}\n            className={\n              isLiked\n                ? \"button element__like-button element__like-button_active\"\n                : \"button element__like-button\"\n            }\n            aria-label=\"Понравилось\"\n            type=\"button\"\n          ></button>\n          <span className=\"element__like-counter\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Main = ({\n  handleEditProfileClick,\n  handleAddPlaceClick,\n  handleEditAvatarClick,\n  handleCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) => {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile section\">\n        <div\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={handleEditAvatarClick}\n        ></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            className=\"button profile__edit-button\"\n            aria-label=\"Изменить профиль\"\n            type=\"button\"\n            onClick={handleEditProfileClick}\n          ></button>\n          <p className=\"profile__occupation\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"button profile__add-button\"\n          aria-label=\"Добавить\"\n          type=\"button\"\n          onClick={handleAddPlaceClick}\n        ></button>\n      </section>\n      <section className=\"section elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={handleCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n};\n\nexport default Main;\n","const Footer = () => {\n  return (\n    <footer className=\"footer section\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","const PopupWithForm = ({\n  title,\n  name,\n  buttonText,\n  isOpen,\n  children,\n  onClose,\n  onSubmit,\n}) => {\n  return (\n    <section\n      className={\n        isOpen\n          ? \"popup popup_type_input popup_opened\"\n          : \"popup popup_type_input\"\n      }\n      id={name}\n    >\n      <div className=\"popup__container popup__container_type_input\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <button\n          onClick={onClose}\n          className=\"button popup__exit-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <form\n          onSubmit={onSubmit}\n          className=\"popup__form\"\n          action=\"#\"\n          name={name}\n        >\n          {children}\n          <button\n            className=\"button popup__save-button\"\n            type=\"submit\"\n            aria-label={buttonText}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n};\n\nexport default PopupWithForm;","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser }) => {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  };\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name={\"edit-profile\"}\n      title={\"Редактировать профиль\"}\n      buttonText={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        onChange={handleChangeName}\n        value={name}\n        className=\"popup__input\"\n        id=\"name\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span className=\"popup__input-error\" id=\"name-error\">\n        Mistake\n      </span>\n      <input\n        onChange={handleChangeDescription}\n        value={description}\n        className=\"popup__input\"\n        id=\"occupation\"\n        type=\"text\"\n        placeholder=\"Род занятий\"\n        name=\"about\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span className=\"popup__input-error\" id=\"occupation-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst EditAvatarPopup = ({ isOpen, onClose, onUpdateAvatar }) => {\n  const avatarRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"edit-avatar\"}\n      title={\"Обновить аватар\"}\n      buttonText={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={avatarRef}\n        className=\"popup__input\"\n        id=\"avatar\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"avatar\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"avatar-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace }) => {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"add-place\"}\n      title={\"Новое место\"}\n      buttonText={\"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        ref={nameRef}\n        className=\"popup__input\"\n        id=\"title\"\n        type=\"text\"\n        placeholder=\"Название\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n      />\n      <span className=\"popup__input-error\" id=\"title-error\">\n        Mistake\n      </span>\n      <input\n        ref={linkRef}\n        className=\"popup__input\"\n        id=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","const ImagePopup = ({ card, onClose }) => {\n  return (\n    <section\n      className={\n        card.link\n          ? \"popup popup_type_image popup_opened\"\n          : \"popup popup_type_image\"\n      }\n      id=\"image-popup\"\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <button\n          className=\"button popup__exit-button\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <h2 className=\"popup__caption\">{card.name}</h2>\n      </div>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n","//* Спасибо за классные комментарии! Код стал лучше)\n// todo 1. Можно убрать лишнюю обёртку root и перенести стили в page.css или на root в index.html\n// todo 2. Почистить variables.js\n// todo 3. Добавить спинер\n// todo 4. Поменять фавикон\n// todo 5. Понять в какой момент вешается обработчик на Escap. Не до конца понимаю пока\n// todo 6. Валидация форм\n// todo 7. Надпись загрузка на кнопке\n// todo 8. Закрытие по нажатию на оверлей\n// todo 9. Окно удаления карточки\n// todo 10. Очистка форм после сабмита\n\nimport { useState, useEffect } from \"react\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    about: \"\",\n    id_: \"\",\n  });\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n\n  useEffect(() => {\n    api\n      .getAllneededData()\n      .then((res) => {\n        const [cards, userInfo] = res;\n        setCards(cards);\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    const closeByEscape = (evt) => {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    document.addEventListener(\"keydown\", closeByEscape);\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\n  }, []);\n\n  // Card\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardDelete = (card) => {\n    api\n      .setDelete(card._id)\n      .then((res) => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  // Popups\n  const onEditProfile = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const onAddPlace = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const onEditAvatar = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n  };\n\n  const handleUpdateUser = (data) => {\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleUpdateAvatar = (data) => {\n    api\n      .setAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleAddPlaceSubmit = (data) => {\n    api\n      .setCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"root\">\n        <div className=\"page\">\n          <Header />\n          <Main\n            handleEditProfileClick={onEditProfile}\n            handleAddPlaceClick={onAddPlace}\n            handleEditAvatarClick={onEditAvatar}\n            handleCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}