{"version":3,"sources":["utils/variables.js","utils/Api.js","contexts/CurrentUserContext.js","images/logo-header.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeleteConfirmPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["apiInfo","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","then","_handleResponse","all","getCards","getUserInfo","data","method","body","JSON","stringify","name","link","about","isLiked","authorization","CurrentUserContext","React","createContext","Header","className","src","logo","alt","Card","card","onCardClick","onCardLike","onCardDeleteClick","currentUser","useContext","isOwn","owner","_id","likes","some","i","onClick","style","display","type","title","length","Main","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","handleCardDeleteClick","cards","backgroundImage","avatar","map","Footer","PopupWithForm","buttonText","isOpen","children","onClose","onSubmit","onCloseOverlay","id","action","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","value","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","ImagePopup","DeleteConfirmPopup","onCardDelete","App","setCards","id_","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setIsLoading","getAllneededData","userInfo","catch","err","console","log","closeByEscape","evt","key","closeAllPopups","document","addEventListener","removeEventListener","closeByOverlayClick","currentTarget","Provider","changeLikeCardStatus","newCard","c","setUserInfo","finally","setCard","setAvatar","setDelete","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d8db8517.chunk.js","sourcesContent":["export const apiInfo = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n  token: 'b0e0b94f-d543-4f9f-b125-9b741686cafd'\n}","import { apiInfo } from './variables.js'\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  };\n\n  getCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse);\n  }\n\n  getAllneededData() {\n    return Promise.all([this.getCards(), this.getUserInfo()])\n  }\n\n  setCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      })\n    })\n      .then(this._handleResponse);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    })\n      .then(this._handleResponse);\n  }\n\n  setAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._handleResponse);\n  }\n\n  setLike(data) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  setDislike(data) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  changeLikeCardStatus(data, isLiked) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  setDelete(data) {\n    return fetch(`${this._baseUrl}cards/${data}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n\n  }\n}\n\nexport const api = new Api ({\n  baseUrl: apiInfo.url,\n  headers: {\n    authorization: apiInfo.token,\n    'Content-Type': 'application/json'\n  }\n})","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo-header.5f3664ca.svg\";","import logo from \"../images/logo-header.svg\";\n\nconst Header = () => {\n  return (\n    <header className=\"header section\">\n      <img className=\"logo header__logo\" src={logo} alt=\"Логотип\" />\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Card = ({ card, onCardClick, onCardLike, onCardDeleteClick }) => {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleClickDelete = () => {\n    onCardDeleteClick(card);\n  };\n\n  return (\n    <li className=\"element\">\n      <button\n        onClick={handleClickDelete}\n        className=\"button element__delete-button\"\n        style={isOwn ? { display: \"block\" } : { display: \"none\" }}\n        aria-label=\"Удалить\"\n        type=\"button\"\n      ></button>\n      <img\n        className=\"element__image\"\n        onClick={handleClick}\n        src={card.link}\n        alt={card.title}\n      />\n      <div className=\"element__info\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__like\">\n          <button\n            onClick={handleLikeClick}\n            className={\n              isLiked\n                ? \"button element__like-button element__like-button_active\"\n                : \"button element__like-button\"\n            }\n            aria-label=\"Понравилось\"\n            type=\"button\"\n          ></button>\n          <span className=\"element__like-counter\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Main = ({\n  handleEditProfileClick,\n  handleAddPlaceClick,\n  handleEditAvatarClick,\n  handleCardClick,\n  handleCardDeleteClick,\n  cards,\n  onCardLike,\n}) => {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile section\">\n        <div\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={handleEditAvatarClick}\n        ></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            className=\"button profile__edit-button\"\n            aria-label=\"Изменить профиль\"\n            type=\"button\"\n            onClick={handleEditProfileClick}\n          ></button>\n          <p className=\"profile__occupation\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"button profile__add-button\"\n          aria-label=\"Добавить\"\n          type=\"button\"\n          onClick={handleAddPlaceClick}\n        ></button>\n      </section>\n      <section className=\"section elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={handleCardClick}\n                onCardLike={onCardLike}\n                onCardDeleteClick={handleCardDeleteClick}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n};\n\nexport default Main;\n","const Footer = () => {\n  return (\n    <footer className=\"footer section\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","const PopupWithForm = ({\n  title,\n  name,\n  buttonText,\n  isOpen,\n  children,\n  onClose,\n  onSubmit,\n  onCloseOverlay,\n}) => {\n  return (\n    <section\n      onClick={onCloseOverlay}\n      className={\n        isOpen\n          ? \"popup popup_type_input popup_opened\"\n          : \"popup popup_type_input\"\n      }\n      id={name}\n    >\n      <div className=\"popup__container popup__container_type_input\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <button\n          onClick={onClose}\n          className=\"button popup__exit-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <form\n          onSubmit={onSubmit}\n          className=\"popup__form\"\n          action=\"#\"\n          name={name}\n        >\n          {children}\n          <button\n            className=\"button popup__save-button\"\n            type=\"submit\"\n            aria-label={buttonText}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n};\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditProfilePopup = ({ isOpen, onClose, onUpdateUser, onCloseOverlay, isLoading }) => {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  };\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name={\"edit-profile\"}\n      title={\"Редактировать профиль\"}\n      buttonText={ isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        onChange={handleChangeName}\n        value={name}\n        className=\"popup__input\"\n        id=\"name\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span className=\"popup__input-error\" id=\"name-error\">\n        Mistake\n      </span>\n      <input\n        onChange={handleChangeDescription}\n        value={description}\n        className=\"popup__input\"\n        id=\"occupation\"\n        type=\"text\"\n        placeholder=\"Род занятий\"\n        name=\"about\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span className=\"popup__input-error\" id=\"occupation-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst EditAvatarPopup = ({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  onCloseOverlay,\n  isLoading,\n}) => {\n  const avatarRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"edit-avatar\"}\n      title={\"Обновить аватар\"}\n      buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        ref={avatarRef}\n        className=\"popup__input\"\n        id=\"avatar\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"avatar\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"avatar-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = ({ isOpen, onClose, onAddPlace, onCloseOverlay, isLoading }) => {\n  const nameRef = React.useRef();\n  const linkRef = React.useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    });\n  };\n\n  return (\n    <PopupWithForm\n      name={\"add-place\"}\n      title={\"Новое место\"}\n      buttonText={ isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        ref={nameRef}\n        className=\"popup__input\"\n        id=\"title\"\n        type=\"text\"\n        placeholder=\"Название\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n      />\n      <span className=\"popup__input-error\" id=\"title-error\">\n        Mistake\n      </span>\n      <input\n        ref={linkRef}\n        className=\"popup__input\"\n        id=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","const ImagePopup = ({ card, onClose, onCloseOverlay }) => {\n  return (\n    <section\n      onClick={onCloseOverlay}\n      className={\n        card.link\n          ? \"popup popup_type_image popup_opened\"\n          : \"popup popup_type_image\"\n      }\n      id=\"image-popup\"\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <button\n          className=\"button popup__exit-button\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <h2 className=\"popup__caption\">{card.name}</h2>\n      </div>\n    </section>\n  );\n};\n\nexport default ImagePopup;\n","import React from \"react\";\n\nconst DeleteConfirmPopup = ({\n  card,\n  onClose,\n  onCloseOverlay,\n  onCardDelete,\n  isLoading,\n}) => {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onCardDelete(card);\n  };\n\n  return (\n    <section\n      onClick={onCloseOverlay}\n      className={\n        card.link\n          ? \"popup popup_type_image popup_opened\"\n          : \"popup popup_type_image\"\n      }\n      id=\"delete-conformation\"\n    >\n      <div className=\"popup__container popup__container_type_input\">\n        <h2 className=\"popup__title\">Вы уверены?</h2>\n        <button\n          className=\"button popup__exit-button\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <form\n          onSubmit={handleSubmit}\n          className=\"popup__form\"\n          id=\"delete-conformation-form\"\n          action=\"#\"\n          name=\"delete-conformation-form\"\n        >\n          <button\n            className=\"button popup__save-button\"\n            type=\"submit\"\n            aria-label={isLoading ? \"Удаление...\" : \"Да\"}\n          >\n            {isLoading ? \"Удаление...\" : \"Да\"}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n};\n\nexport default DeleteConfirmPopup;\n","// todo 1. Добавить спинер на первую загрузку\n// todo 2. Поменять фавикон\n// todo 3. Валидация форм\n///// todo 4. Окно удаления карточки\n// todo 5. Очистка форм после сабмита\n// todo 6. Прописать пути Router для сайта. Страница 404.\n// todo 7. Поменять экспорты. Убрать дефолтные.\n// todo 8. Настроить ключ, чтобы не вводить пороль каждый раз ssh.\n// todo 9. Сделать автоматическое форматирование кода.\n\nimport { useState, useEffect } from \"react\";\nimport { api } from \"../utils/Api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport DeleteConfirmPopup from \"./DeleteConfirmPopup\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    about: \"\",\n    id_: \"\",\n  });\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [deletedCard, setDeletedCard] = useState({ name: \"\", link: \"\" });\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    api\n      .getAllneededData()\n      .then((res) => {\n        const [cards, userInfo] = res;\n        setCards(cards);\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    const closeByEscape = (evt) => {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    document.addEventListener(\"keydown\", closeByEscape);\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\n  }, []);\n\n  const closeByOverlayClick = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      closeAllPopups();\n    }\n  };\n\n  // Card\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardDelete = (card) => {\n    setIsLoading(true);\n    api\n      .setDelete(card._id)\n      .then((res) => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const handleCardDeleteClick = (card) => {\n    setDeletedCard(card);\n  };\n\n  // Popups\n  const onEditProfile = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const onAddPlace = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const onEditAvatar = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n    setDeletedCard({ name: \"\", link: \"\" });\n  };\n\n  const handleUpdateUser = (data) => {\n    setIsLoading(true);\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    setIsLoading(true);\n    api\n      .setAvatar(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const handleAddPlaceSubmit = (data) => {\n    setIsLoading(true);\n    api\n      .setCard(data)\n      .then((res) => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          handleEditProfileClick={onEditProfile}\n          handleAddPlaceClick={onAddPlace}\n          handleEditAvatarClick={onEditAvatar}\n          handleCardClick={handleCardClick}\n          handleCardDeleteClick={handleCardDeleteClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          // onCardDelete={handleCardDelete}\n        />\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          isLoading={isLoading}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          onCloseOverlay={closeByOverlayClick}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          isLoading={isLoading}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          onCloseOverlay={closeByOverlayClick}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          isLoading={isLoading}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          onCloseOverlay={closeByOverlayClick}\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n          onCloseOverlay={closeByOverlayClick}\n        />\n        <DeleteConfirmPopup\n          card={deletedCard}\n          onClose={closeAllPopups}\n          onCloseOverlay={closeByOverlayClick}\n          onCardDelete={handleCardDelete}\n          isLoading={isLoading}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}